# Event è‡ªå®šä¹‰é¢„ç®—å­—æ®µè¯´æ˜

## ğŸ“‹ æ–°å¢å­—æ®µ

### 1. custom_budget (è‡ªå®šä¹‰é¢„ç®—)
- **ç±»å‹**: `decimal?` (å¯ç©º)
- **æ•°æ®åº“ç±»å‹**: `DECIMAL(10, 2)`
- **æè¿°**: ç”¨æˆ·ä¸ºè¯¥æ´»åŠ¨è®¾ç½®çš„ä¸ªäººé¢„ç®—é‡‘é¢
- **ç”¨é€”**: ç”¨äºä¸ªäººé¢„ç®—è§„åˆ’å’Œè´¹ç”¨è·Ÿè¸ª

### 2. custom_budget_currency (è‡ªå®šä¹‰é¢„ç®—å¸ç§)
- **ç±»å‹**: `string?` (å¯ç©º)
- **æ•°æ®åº“ç±»å‹**: `VARCHAR(10)`
- **æè¿°**: è‡ªå®šä¹‰é¢„ç®—ä½¿ç”¨çš„å¸ç§
- **ç¤ºä¾‹**: `USD`, `EUR`, `CNY`, `JPY`, `GBP`

## ğŸ”„ ä¸ç°æœ‰å­—æ®µçš„åŒºåˆ«

### ç°æœ‰ä»·æ ¼å­—æ®µ (æ´»åŠ¨å®˜æ–¹ä»·æ ¼)
- `price`: æ´»åŠ¨ç»„ç»‡æ–¹è®¾å®šçš„å®˜æ–¹ä»·æ ¼
- `currency`: æ´»åŠ¨å®˜æ–¹ä»·æ ¼çš„å¸ç§

### æ–°å¢é¢„ç®—å­—æ®µ (ç”¨æˆ·ä¸ªäººé¢„ç®—)
- `custom_budget`: ç”¨æˆ·ä¸ºå‚åŠ è¯¥æ´»åŠ¨è®¾å®šçš„ä¸ªäººé¢„ç®—
- `custom_budget_currency`: ç”¨æˆ·é¢„ç®—ä½¿ç”¨çš„å¸ç§

**åœºæ™¯ç¤ºä¾‹**ï¼š
- æ´»åŠ¨å®˜æ–¹ä»·æ ¼: `$50 USD`
- ç”¨æˆ·å¯èƒ½è®¾ç½®ä¸ªäººé¢„ç®—: `Â¥400 CNY` (åŒ…å«äº¤é€šã€é¤é¥®ç­‰é¢å¤–è´¹ç”¨)

## ğŸ“Š æ•°æ®åº“è¿ç§»

æ‰§è¡Œä»¥ä¸‹ SQL è„šæœ¬æ·»åŠ å­—æ®µï¼š

```sql
-- æ·»åŠ è‡ªå®šä¹‰é¢„ç®—å­—æ®µ
ALTER TABLE events 
ADD COLUMN IF NOT EXISTS custom_budget DECIMAL(10, 2) NULL;

ALTER TABLE events 
ADD COLUMN IF NOT EXISTS custom_budget_currency VARCHAR(10) NULL;

-- æ·»åŠ ç´¢å¼•
CREATE INDEX IF NOT EXISTS idx_events_custom_budget 
ON events(custom_budget) 
WHERE custom_budget IS NOT NULL;
```

æ–‡ä»¶ä½ç½®: `src/Services/EventService/EventService/Database/add-custom-budget-fields.sql`

## ğŸ’» ä»£ç ä½¿ç”¨ç¤ºä¾‹

### C# Model (EventService)

```csharp
var event = new Event
{
    Title = "æ•°å­—æ¸¸æ°‘ç¤¾äº¤èšä¼š",
    Price = 50,
    Currency = "USD",
    CustomBudget = 400,  // ç”¨æˆ·è®¾ç½®çš„ä¸ªäººé¢„ç®—
    CustomBudgetCurrency = "CNY",  // äººæ°‘å¸
    // ... å…¶ä»–å­—æ®µ
};
```

### DTO (Gateway)

```csharp
public class MeetupDto
{
    public decimal Price { get; set; }
    public string Currency { get; set; } = "USD";
    public decimal? CustomBudget { get; set; }
    public string? CustomBudgetCurrency { get; set; }
}
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. é¢„ç®—è§„åˆ’
ç”¨æˆ·åœ¨æŠ¥åæ´»åŠ¨å‰ï¼Œå¯ä»¥è®¾ç½®ä¸ªäººé¢„ç®—ï¼š
- æ´»åŠ¨é—¨ç¥¨è´¹ç”¨
- äº¤é€šè´¹ç”¨
- é¤é¥®è´¹ç”¨
- å…¶ä»–é¢„æœŸå¼€é”€

### 2. è´¹ç”¨è·Ÿè¸ª
- è®°å½•å®é™…èŠ±è´¹ vs é¢„ç®—å¯¹æ¯”
- ç”Ÿæˆä¸ªäººæ¶ˆè´¹æŠ¥å‘Š
- ä¼˜åŒ–æœªæ¥é¢„ç®—è§„åˆ’

### 3. å¤šå¸ç§æ”¯æŒ
- ç”¨æˆ·å¯ä»¥ç”¨è‡ªå·±ç†Ÿæ‚‰çš„å¸ç§è®¾ç½®é¢„ç®—
- ç³»ç»Ÿå¯ä»¥æä¾›å¸ç§è½¬æ¢åŠŸèƒ½
- æ”¯æŒè·¨å›½æ´»åŠ¨çš„é¢„ç®—ç®¡ç†

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å­—æ®µå¯ç©º**: è¿™ä¸¤ä¸ªå­—æ®µéƒ½æ˜¯å¯é€‰çš„ï¼Œä¸æ˜¯æ‰€æœ‰æ´»åŠ¨éƒ½éœ€è¦è®¾ç½®è‡ªå®šä¹‰é¢„ç®—
2. **å¸ç§ä¸€è‡´æ€§**: å»ºè®®ä½¿ç”¨ ISO 4217 æ ‡å‡†å¸ç§ä»£ç 
3. **ç²¾åº¦**: é‡‘é¢ä½¿ç”¨ `DECIMAL(10, 2)` ä¿è¯ç²¾åº¦ï¼Œæ”¯æŒæœ€å¤§ 99,999,999.99
4. **ç´¢å¼•**: å·²åˆ›å»ºç´¢å¼•æ”¯æŒæŒ‰é¢„ç®—èŒƒå›´æŸ¥è¯¢

## ğŸ”„ ä¸‹ä¸€æ­¥

1. âœ… å·²æ›´æ–° `Event` æ¨¡å‹
2. âœ… å·²åˆ›å»ºæ•°æ®åº“è¿ç§»è„šæœ¬
3. âœ… å·²æ›´æ–° Gateway çš„ `MeetupDto`
4. â³ éœ€è¦åœ¨ Supabase æ‰§è¡Œè¿ç§»è„šæœ¬
5. â³ éœ€è¦åˆ›å»ºç›¸å…³çš„ API ç«¯ç‚¹ï¼ˆå¦‚æœéœ€è¦å•ç‹¬ç®¡ç†é¢„ç®—ï¼‰
6. â³ å‰ç«¯éœ€è¦æ·»åŠ é¢„ç®—è¾“å…¥ç•Œé¢
