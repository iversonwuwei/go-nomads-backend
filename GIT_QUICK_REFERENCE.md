# Git ä½¿ç”¨å¿«é€Ÿå‚è€ƒ

## ğŸ“‹ å¸¸ç”¨ Git å‘½ä»¤

### æŸ¥çœ‹çŠ¶æ€
```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# ç®€æ´æ¨¡å¼
git status -s

# æŸ¥çœ‹è¢«å¿½ç•¥çš„æ–‡ä»¶
git status --ignored
```

### æ£€æŸ¥å¿½ç•¥è§„åˆ™
```bash
# æ£€æŸ¥ç‰¹å®šæ–‡ä»¶æ˜¯å¦è¢«å¿½ç•¥
git check-ignore -v <æ–‡ä»¶è·¯å¾„>

# æ£€æŸ¥å¤šä¸ªè·¯å¾„
git check-ignore -v bin/ obj/ publish/

# åˆ—å‡ºæ‰€æœ‰è¢«å¿½ç•¥çš„æ–‡ä»¶
git ls-files --others --ignored --exclude-standard
```

### æ·»åŠ å’Œæäº¤
```bash
# æ·»åŠ æ–°æ–‡ä»¶
git add <æ–‡ä»¶å>

# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# å¼ºåˆ¶æ·»åŠ è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
git add -f <æ–‡ä»¶è·¯å¾„>

# æäº¤æ›´æ”¹
git commit -m "æäº¤è¯´æ˜"
```

### æ›´æ–° .gitignore åæ¸…ç†ç¼“å­˜
```bash
# å½“ä½ ä¿®æ”¹äº† .gitignore å¹¶éœ€è¦åº”ç”¨æ–°è§„åˆ™æ—¶
git rm -r --cached .
git add .
git commit -m "Update .gitignore"
```

## âœ… é¡¹ç›®å·²å¿½ç•¥çš„å…³é”®ç›®å½•

| ç›®å½•/æ–‡ä»¶ | è¯´æ˜ | åŸå›  |
|----------|------|------|
| `bin/`, `obj/` | .NET æ„å»ºè¾“å‡º | è‡ªåŠ¨ç”Ÿæˆï¼Œä¸éœ€è¦ç‰ˆæœ¬æ§åˆ¶ |
| `publish/` | éƒ¨ç½²å‘å¸ƒç›®å½• | æœ¬åœ°æ„å»ºç”Ÿæˆï¼Œæ¯æ¬¡éƒ¨ç½²é‡æ–°ç”Ÿæˆ |
| `.vs/`, `.idea/` | IDE é…ç½® | ä¸ªäººåå¥½ï¼Œä¸åº”å½±å“å›¢é˜Ÿ |
| `logs/`, `*.log` | æ—¥å¿—æ–‡ä»¶ | è¿è¡Œæ—¶ç”Ÿæˆçš„æ•°æ® |
| `.env*` | ç¯å¢ƒå˜é‡ | å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯ |
| `deployment/*/data/` | æœåŠ¡è¿è¡Œæ—¶æ•°æ® | Consulã€Prometheus ç­‰æ•°æ® |

## ğŸ” éªŒè¯ç¤ºä¾‹

### æ£€æŸ¥æ„å»ºç›®å½•æ˜¯å¦è¢«å¿½ç•¥
```bash
git check-ignore -v src/Gateway/Gateway/bin/
# è¾“å‡º: .gitignore:37:[Bb]in/   src/Gateway/Gateway/bin/
```

### æ£€æŸ¥å‘å¸ƒç›®å½•æ˜¯å¦è¢«å¿½ç•¥
```bash
git check-ignore -v publish/
# è¾“å‡º: .gitignore:84:publish/  publish/
```

### æŸ¥çœ‹æ‰€æœ‰æœªæäº¤çš„æ›´æ”¹
```bash
git status -s
# M  .gitignore          # å·²ä¿®æ”¹
# ?? new-file.md         # æ–°æ–‡ä»¶
```

## ğŸ“ æäº¤æ–°åŠŸèƒ½çš„å®Œæ•´æµç¨‹

```bash
# 1. æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# 2. æ·»åŠ æ–°æ–‡ä»¶å’Œæ›´æ”¹
git add .

# 3. æŸ¥çœ‹å°†è¦æäº¤çš„å†…å®¹
git status

# 4. æäº¤æ›´æ”¹
git commit -m "feat: æ·»åŠ æœåŠ¡éƒ¨ç½²è„šæœ¬å’Œæ–‡æ¡£"

# 5. æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin main
```

## ğŸš¨ æ³¨æ„äº‹é¡¹

### âŒ ä¸è¦æäº¤çš„å†…å®¹
- æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€å¯†é’¥ã€è¯ä¹¦ï¼‰
- å¤§å‹äºŒè¿›åˆ¶æ–‡ä»¶
- æ„å»ºè¾“å‡ºå’Œä¸´æ—¶æ–‡ä»¶
- ä¸ªäºº IDE é…ç½®
- è¿è¡Œæ—¶æ•°æ®å’Œæ—¥å¿—

### âœ… åº”è¯¥æäº¤çš„å†…å®¹
- æºä»£ç ï¼ˆ.csã€.csproj ç­‰ï¼‰
- é…ç½®æ¨¡æ¿ï¼ˆappsettings.jsonï¼Œä½†ä¸å«ç”Ÿäº§å¯†é’¥ï¼‰
- æ–‡æ¡£ï¼ˆREADMEã€æŒ‡å—ç­‰ï¼‰
- è„šæœ¬ï¼ˆéƒ¨ç½²ã€æ„å»ºè„šæœ¬ï¼‰
- Dockerfile å’Œé…ç½®æ–‡ä»¶

## ğŸ› ï¸ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ï¼šè¯¯æäº¤äº†æ•æ„Ÿæ–‡ä»¶
```bash
# ä» Git å†å²ä¸­ç§»é™¤æ–‡ä»¶
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch <æ–‡ä»¶è·¯å¾„>" \
  --prune-empty --tag-name-filter cat -- --all

# æˆ–ä½¿ç”¨ git-filter-repoï¼ˆæ¨èï¼‰
git filter-repo --path <æ–‡ä»¶è·¯å¾„> --invert-paths
```

### é—®é¢˜ï¼š.gitignore ä¸ç”Ÿæ•ˆ
```bash
# æ¸…é™¤ Git ç¼“å­˜
git rm -r --cached .
git add .
git commit -m "Fix .gitignore"
```

### é—®é¢˜ï¼šæƒ³è¦å¿½ç•¥å·²è·Ÿè¸ªçš„æ–‡ä»¶
```bash
# ä»ç‰ˆæœ¬æ§åˆ¶ä¸­ç§»é™¤ä½†ä¿ç•™æœ¬åœ°æ–‡ä»¶
git rm --cached <æ–‡ä»¶è·¯å¾„>
git commit -m "Stop tracking <æ–‡ä»¶>"

# ç„¶ååœ¨ .gitignore ä¸­æ·»åŠ è¯¥æ–‡ä»¶
echo "<æ–‡ä»¶è·¯å¾„>" >> .gitignore
```

## ğŸ“š æ›´å¤šèµ„æº

- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [.gitignore æ¨¡æ¿](https://github.com/github/gitignore)
- [é¡¹ç›® .gitignore è¯¦ç»†è¯´æ˜](GITIGNORE_GUIDE.md)

---

**å¿«é€Ÿæç¤º**: ä½¿ç”¨ `git status` ç»å¸¸æ£€æŸ¥çŠ¶æ€ï¼Œç¡®ä¿ä¸ä¼šæ„å¤–æäº¤ä¸éœ€è¦çš„æ–‡ä»¶ï¼
