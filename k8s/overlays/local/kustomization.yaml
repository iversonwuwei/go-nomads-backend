apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: go-nomads

# 只部署基础设施和监控（本地开发时业务服务可以直接运行或使用 docker-compose）
resources:
  # 基础配置
  - ../../base/namespace.yaml
  - ../../base/configmap.yaml
  - ../../base/secrets.yaml
  
  # 基础设施
  - ../../infrastructure/redis.yaml
  - ../../infrastructure/rabbitmq.yaml
  - ../../infrastructure/elasticsearch.yaml
  - ../../infrastructure/consul.yaml
  
  # 监控服务
  - ../../monitoring/prometheus.yaml
  - ../../monitoring/grafana.yaml
  - ../../monitoring/zipkin.yaml

# 本地环境标签
commonLabels:
  environment: local
