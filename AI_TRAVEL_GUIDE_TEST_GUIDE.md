# AI ç”Ÿæˆæ—…æ¸¸æŒ‡å— - æµ‹è¯•æŒ‡å—

## ğŸ§ª å¿«é€Ÿæµ‹è¯•æ­¥éª¤

### æ­¥éª¤ 1: å¯åŠ¨åç«¯æœåŠ¡

```bash
cd e:\Workspaces\WaldenProjects\go-nomads\src\Services\AIService\AIService
dotnet run
```

ç¡®è®¤æœåŠ¡å¯åŠ¨æˆåŠŸ:
```
âœ… AIService è¿è¡Œåœ¨ http://localhost:5003
```

### æ­¥éª¤ 2: æµ‹è¯• API æ¥å£

ä½¿ç”¨ PowerShell æµ‹è¯•:

```powershell
$body = @{
    cityId = "chiang-mai-thailand"
    cityName = "æ¸…è¿ˆ"
} | ConvertTo-Json

$response = Invoke-RestMethod -Uri "http://localhost:5003/api/v1/ai/travel-guide" `
    -Method Post `
    -Body $body `
    -ContentType "application/json"

$response.data | ConvertTo-Json -Depth 10
```

**é¢„æœŸç»“æœ**:
- success: true
- message: "æ—…æ¸¸æŒ‡å—ç”ŸæˆæˆåŠŸ"
- data åŒ…å«å®Œæ•´çš„æŒ‡å—ä¿¡æ¯

### æ­¥éª¤ 3: å¯åŠ¨ Flutter åº”ç”¨

```bash
cd e:\Workspaces\WaldenProjects\df_admin_mobile
flutter run
```

### æ­¥éª¤ 4: æµ‹è¯•å‰ç«¯åŠŸèƒ½

1. **å¯¼èˆªåˆ°åŸå¸‚è¯¦æƒ…é¡µ**
   - ä»åŸå¸‚åˆ—è¡¨é€‰æ‹©ä»»æ„åŸå¸‚
   - æˆ–ç›´æ¥è®¿é—®åŸå¸‚è¯¦æƒ…

2. **åˆ‡æ¢åˆ° "æŒ‡å—" Tab**
   - ç‚¹å‡»åº•éƒ¨çš„ "Guide" æ ‡ç­¾

3. **ç”ŸæˆæŒ‡å—**
   - ç‚¹å‡» "AI ç”Ÿæˆæ—…æ¸¸æŒ‡å—" æŒ‰é’®
   - ç­‰å¾…åŠ è½½æç¤º: "ğŸ¤– AI æ­£åœ¨ç”Ÿæˆæ—…æ¸¸æŒ‡å—..."
   - è§‚å¯Ÿ Toast æç¤º: "AI æŒ‡å—ç”ŸæˆæˆåŠŸ!"

4. **æŸ¥çœ‹å†…å®¹**
   - Overview: åŸå¸‚æ¦‚è¿°
   - Visa Info: ç­¾è¯ä¿¡æ¯ (ç±»å‹ã€å¤©æ•°ã€è¦æ±‚ã€è´¹ç”¨ã€æµç¨‹)
   - Best Areas: æ¨èå±…ä½åŒºåŸŸ
   - Workspace Recommendations: å·¥ä½œç©ºé—´æ¨è
   - Tips: å®ç”¨å»ºè®®
   - Essential Info: å¿…è¦ä¿¡æ¯

5. **æµ‹è¯•é‡æ–°ç”Ÿæˆ**
   - ç‚¹å‡» "AI é‡æ–°ç”Ÿæˆ" æŒ‰é’®
   - ç¡®è®¤å†…å®¹æ›´æ–°

## âœ… æ£€æŸ¥ç‚¹

### åç«¯æ£€æŸ¥
- [ ] AIService æˆåŠŸå¯åŠ¨
- [ ] API æ¥å£è¿”å› 200 çŠ¶æ€ç 
- [ ] å“åº”åŒ…å« success: true
- [ ] data å­—æ®µåŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ
- [ ] æ—¥å¿—æ˜¾ç¤º "âœ… æ•°å­—æ¸¸æ°‘æ—…æ¸¸æŒ‡å—ç”ŸæˆæˆåŠŸ"

### å‰ç«¯æ£€æŸ¥
- [ ] ç©ºçŠ¶æ€æ˜¾ç¤º "AI ç”Ÿæˆæ—…æ¸¸æŒ‡å—" æŒ‰é’®
- [ ] ç‚¹å‡»æŒ‰é’®åæ˜¾ç¤ºåŠ è½½æç¤º
- [ ] Toast æ˜¾ç¤º "AI æŒ‡å—ç”ŸæˆæˆåŠŸ!"
- [ ] æŒ‡å—å†…å®¹æ­£ç¡®æ˜¾ç¤º
- [ ] "AI é‡æ–°ç”Ÿæˆ" æŒ‰é’®å¯ç”¨
- [ ] é‡æ–°ç”ŸæˆåŠŸèƒ½æ­£å¸¸

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: åç«¯æ— æ³•å¯åŠ¨
**ç—‡çŠ¶**: dotnet run å¤±è´¥

**æ’æŸ¥**:
```bash
# æ£€æŸ¥é¡¹ç›®ç¼–è¯‘
dotnet build

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
dotnet run --verbosity detailed
```

### é—®é¢˜ 2: API è¿”å› 500 é”™è¯¯
**ç—‡çŠ¶**: API è°ƒç”¨è¿”å›é”™è¯¯

**æ’æŸ¥**:
1. æ£€æŸ¥ appsettings.json ä¸­çš„ Qwen API Key
2. æŸ¥çœ‹åç«¯æ—¥å¿—ä¸­çš„è¯¦ç»†é”™è¯¯
3. ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸

### é—®é¢˜ 3: å‰ç«¯è¯·æ±‚è¶…æ—¶
**ç—‡çŠ¶**: 3åˆ†é’Ÿåä»åœ¨åŠ è½½

**æ’æŸ¥**:
1. æ£€æŸ¥åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œ
2. æŸ¥çœ‹åç«¯æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯
3. æ£€æŸ¥ç½‘ç»œè¿æ¥
4. å°è¯•ä½¿ç”¨ Postman/curl ç›´æ¥æµ‹è¯•

### é—®é¢˜ 4: AI ç”Ÿæˆå†…å®¹ä¸å®Œæ•´
**ç—‡çŠ¶**: æŸäº›å­—æ®µä¸ºç©º

**æ’æŸ¥**:
1. æŸ¥çœ‹åç«¯æ—¥å¿—ä¸­çš„ AI å“åº”
2. æ£€æŸ¥ JSON è§£ææ˜¯å¦æˆåŠŸ
3. å¯èƒ½éœ€è¦è°ƒæ•´ Prompt æˆ–å¢åŠ  max_tokens

## ğŸ“Š æµ‹è¯•æ•°æ®

### æ¨èæµ‹è¯•åŸå¸‚
1. **æ¸…è¿ˆ, æ³°å›½** (chiang-mai-thailand)
   - çƒ­é—¨æ•°å­—æ¸¸æ°‘åŸå¸‚
   - AI ç”Ÿæˆå†…å®¹ä¸°å¯Œ

2. **å·´å˜å²›, å°åº¦å°¼è¥¿äºš** (bali-indonesia)
   - ç»å…¸æ•°å­—æ¸¸æ°‘ç›®çš„åœ°
   - æµ‹è¯•ç­¾è¯ä¿¡æ¯å‡†ç¡®æ€§

3. **é‡Œæ–¯æœ¬, è‘¡è„ç‰™** (lisbon-portugal)
   - æ¬§æ´²çƒ­é—¨åŸå¸‚
   - æµ‹è¯•å¤šè¯­è¨€æ”¯æŒ

## ğŸ” æ—¥å¿—ç›‘æ§

### åç«¯æ—¥å¿—å…³é”®ä¿¡æ¯
```
ğŸ“– å¼€å§‹ç”Ÿæˆæ•°å­—æ¸¸æ°‘æ—…æ¸¸æŒ‡å— - åŸå¸‚: æ¸…è¿ˆ
ğŸ¤– è°ƒç”¨ Qwen AI ç”Ÿæˆæ—…æ¸¸æŒ‡å—...
âœ… AI å“åº”æ¥æ”¶å®Œæˆï¼Œé•¿åº¦: 2345
âœ… æ•°å­—æ¸¸æ°‘æ—…æ¸¸æŒ‡å—ç”ŸæˆæˆåŠŸ - åŸå¸‚: æ¸…è¿ˆ
```

### å‰ç«¯è°ƒè¯•
åœ¨ `ai_api_service.dart` ä¸­æ·»åŠ æ—¥å¿—:
```dart
print('ğŸ”„ è¯·æ±‚ç”Ÿæˆæ—…æ¸¸æŒ‡å—: $cityName');
print('âœ… æ”¶åˆ°å“åº”: ${response.data}');
```

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

```markdown
## æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¥æœŸ**: 2024-XX-XX
**æµ‹è¯•äººå‘˜**: XXX
**ç¯å¢ƒ**: Development

### æµ‹è¯•ç»“æœ

#### åç«¯æµ‹è¯•
- [ ] API æ¥å£å¯è®¿é—®
- [ ] å“åº”æ ¼å¼æ­£ç¡®
- [ ] æ•°æ®å®Œæ•´æ€§
- [ ] é”™è¯¯å¤„ç†

#### å‰ç«¯æµ‹è¯•
- [ ] UI æ˜¾ç¤ºæ­£å¸¸
- [ ] åŠ è½½çŠ¶æ€
- [ ] æ•°æ®è§£æ
- [ ] ç”¨æˆ·äº¤äº’

### å‘ç°çš„é—®é¢˜
1. é—®é¢˜æè¿°...
2. é‡ç°æ­¥éª¤...
3. é¢„æœŸ vs å®é™…...

### æ€§èƒ½æ•°æ®
- å¹³å‡å“åº”æ—¶é—´: XX ç§’
- æˆåŠŸç‡: XX%
- Token ä½¿ç”¨: XX tokens

### å»ºè®®
1. ä¼˜åŒ–å»ºè®®...
2. æ”¹è¿›æ–¹å‘...
```

## ğŸš€ è‡ªåŠ¨åŒ–æµ‹è¯• (å¯é€‰)

### ä½¿ç”¨ Postman Collection
åˆ›å»º Postman Collection åŒ…å«:
1. ç”Ÿæˆæ¸…è¿ˆæŒ‡å—
2. ç”Ÿæˆå·´å˜å²›æŒ‡å—
3. ç”Ÿæˆé‡Œæ–¯æœ¬æŒ‡å—
4. é”™è¯¯æµ‹è¯• (æ— æ•ˆåŸå¸‚ID)

### ä½¿ç”¨ Flutter é›†æˆæµ‹è¯•
```dart
testWidgets('AI Guide Generation Test', (WidgetTester tester) async {
  // æ„å»ºåº”ç”¨
  await tester.pumpWidget(MyApp());
  
  // å¯¼èˆªåˆ°åŸå¸‚è¯¦æƒ…
  await tester.tap(find.text('æ¸…è¿ˆ'));
  await tester.pumpAndSettle();
  
  // åˆ‡æ¢åˆ° Guide Tab
  await tester.tap(find.text('Guide'));
  await tester.pumpAndSettle();
  
  // ç‚¹å‡»ç”ŸæˆæŒ‰é’®
  await tester.tap(find.text('AI ç”Ÿæˆæ—…æ¸¸æŒ‡å—'));
  await tester.pumpAndSettle();
  
  // éªŒè¯åŠ è½½çŠ¶æ€
  expect(find.text('ğŸ¤– AI æ­£åœ¨ç”Ÿæˆæ—…æ¸¸æŒ‡å—...'), findsOneWidget);
  
  // ç­‰å¾…ç”Ÿæˆå®Œæˆ (æœ€å¤š 3 åˆ†é’Ÿ)
  await tester.pumpAndSettle(const Duration(minutes: 3));
  
  // éªŒè¯å†…å®¹æ˜¾ç¤º
  expect(find.textContaining('Overview'), findsOneWidget);
  expect(find.textContaining('ç­¾è¯'), findsOneWidget);
});
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2024
