apiVersion: v1
kind: Secret
metadata:
  name: go-nomads-secrets
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "go-nomads.labels" . | nindent 4 }}
type: Opaque
stringData:
  # RabbitMQ 凭证
  RABBITMQ_DEFAULT_USER: {{ .Values.secrets.rabbitmqUser | quote }}
  RABBITMQ_DEFAULT_PASS: {{ .Values.secrets.rabbitmqPassword | quote }}
  
  # Grafana 凭证
  GF_SECURITY_ADMIN_PASSWORD: {{ .Values.secrets.grafanaAdminPassword | quote }}
  
  # 数据库连接字符串
  DATABASE_CONNECTION_STRING: {{ .Values.secrets.databaseConnectionString | quote }}
  
  # Redis 连接字符串
  REDIS_CONNECTION_STRING: {{ .Values.secrets.redisConnectionString | quote }}
  
  # Supabase 配置
  SUPABASE_URL: {{ .Values.secrets.supabaseUrl | quote }}
  SUPABASE_KEY: {{ .Values.secrets.supabaseKey | quote }}
  SUPABASE_SERVICE_ROLE_KEY: {{ .Values.secrets.supabaseServiceRoleKey | quote }}
  
  # AI API Keys
  OPENAI_API_KEY: {{ .Values.secrets.openaiApiKey | quote }}
  QIANWEN_API_KEY: {{ .Values.secrets.qianwenApiKey | quote }}
  DEEPSEEK_API_KEY: {{ .Values.secrets.deepseekApiKey | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: docker-registry-secret
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "go-nomads.labels" . | nindent 4 }}
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: {{ .Values.secrets.dockerConfigJson }}
